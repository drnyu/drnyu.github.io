<html><head>
    <title>Longest Increasing Subsequence</title>

    <meta id="meta" name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="../lib/vamonos.css">
    <link rel="stylesheet" href="../lib/vamonos-demos.css">
    <script type="text/javascript" src="../lib/vamonos-all.js"></script>

    <link rel="stylesheet" href="../deps/bootstrap.min.css">
    <link rel="stylesheet" href="../deps/bootstrap-theme.min.css">
    <script type="text/javascript" src="../deps/bootstrap.min.js"></script>

    <style type="text/css">
    body {
        text-align: center;
    }

    p.caption {
        font-size: 20px;
        font-family: monospace;
    }
    </style>

</head><body>

    <br>
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2 panel-default">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Longest Increasing Subsequence
                    </div>
                    <div class="row nopadding panel-body">
                        <div class="col-sm-6 nopadding">
                            <div id="controls"></div>
                            <div class="pseudocode-procedures">
                                <div id="pseudocode" title="LIS(A):">
                                    L[0] = 0
                                    for n = 1 to A.length
                                        L[n] = 1
                                        for j = 1 to n-1
                                            if A[j] &lt; A[n] and L[n] &lt; L[j] + 1
                                                L[n] = L[j] + 1
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 nopadding">
                            <table class="variable-widgets">
                                <tr><td><div id="A-var"></div></td>
                                    <td><div id="A"></div></td>
                                </tr>
                                <tr><td><div id="L-var"></div></td>
                                    <td><div id="L"></div></td></tr>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <p class='caption' align='center'>
        <table>
            <tr><td>
                L[0] =
            </td><td>
                0
            </td></tr>
            <tr><td>
                L[n] =
            </td><td>
                1 + max{ L[j]: for all j < n such that A[j] < A[n] }<br>
            </td></tr>
        </table>
    </p>

</body>
<script type="text/javascript">
var myviz = new Vamonos.Visualizer({
    widgets: [

        new Vamonos.Widget.VarName({
            container: "A-var",
            varName: "A",
        }),

        new Vamonos.Widget.Array({
            container: "A",
            varName: "A",
            defaultInput: [0, 3,1,4,1,5,9,2,6,5],
            ignoreIndexZero: true,
            cssRules: [[">", "j", "shaded"]],
            showIndices: ["n", "j"],
            firstCellBlank: true,
        }),

        new Vamonos.Widget.VarName({
            container: "L-var",
            varName: "global::L",
            displayName: "L",
            watching: true,
        }),

        new Vamonos.Widget.Array({
            container: "L",
            varName: "global::L",
            displayOnly: true,
            showIndices: ["n", "j"],
        }),

        new Vamonos.Widget.Pseudocode("pseudocode"),

        new Vamonos.Widget.Controls({
            container: "controls",
            expandWidth: true,
        }),
    ],

    algorithm: function (_) {
        with (this) {
_(1);       global.L = [0]
_(2);       for (n = 1; n < A.length; _(2), n++) {
_(3);           global.L[n] = 1;
_(4);           for (j=1; j<n; _(4), j++) {
_(5);               if (A[j] < A[n] && global.L[n] < global.L[j] + 1) {
_(6);                   global.L[n] = global.L[j] + 1;
                     }
                }
                j = undefined;
            }
            n = undefined;
        }
    }
});
</script>
</html>
